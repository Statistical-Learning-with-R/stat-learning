<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Course Setup and Structure</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="course-setup-discord_files/libs/clipboard/clipboard.min.js"></script>
<script src="course-setup-discord_files/libs/quarto-html/quarto.js"></script>
<script src="course-setup-discord_files/libs/quarto-html/popper.min.js"></script>
<script src="course-setup-discord_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="course-setup-discord_files/libs/quarto-html/anchor.min.js"></script>
<link href="course-setup-discord_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="course-setup-discord_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="course-setup-discord_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="course-setup-discord_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="course-setup-discord_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Course Setup and Structure</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Welcome!</p>
<p>In this coursework, you’ll get set up with the Class Discord, learn about what is expected of you each week, and hear some tips from me about how to succeed.</p>
<section id="using-the-class-discord" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Using the Class Discord</h1>
<p>We’ll be using Discord to interact with our peers and group members.</p>
<p>Discord is a platform for text chatting, voice chatting, and screen sharing.Through Discord, you can ask me public questions, we can meet one-on-one or in small group.</p>
<section id="join-the-server" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="join-the-server"><span class="header-section-number">1.1</span> Join the server</h2>
<p>Join the Discord Server through the link on Canvas to start experimenting with the interface.</p>
<p>When you join the server, you will be given some suggestions to get started.</p>
<p><img src="images/welcome_discord.png" class="img-fluid"></p>
<p>I recommend you click through these - and in particular, it is probably a good idea to download the desktop version of Discord, and perhaps to install it on your phone if you wish.</p>
<hr>
</section>
<section id="set-up-your-account" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="set-up-your-account"><span class="header-section-number">1.2</span> Set up your account</h2>
<section id="verify-your-email" class="level3">
<h3 class="anchored" data-anchor-id="verify-your-email">Verify your email</h3>
<p>To use this Discord server, you <strong>must</strong> have a verified email.</p>
<p>Nobody (including your professors) will be able to see this email, and it does not have to be your Cal Poly email. This is simply to keep the server from being overrun by temporary accounts.</p>
</section>
<section id="create-your-identity" class="level3">
<h3 class="anchored" data-anchor-id="create-your-identity">Create your identity</h3>
<p>The first thing you should do is decide what name and picture you would like to use.</p>
<p><img src="images/pic.gif" class="img-fluid"></p>
<p>I would like to <strong>strongly</strong> encourage you to use your <strong>real name and picture</strong>, so that everyone can get to know you. However, if you prefer to remain anonymous, you are free to do so.</p>
<p><img src="images/pic_name.gif" class="img-fluid"></p>
<p>(Please do not be like Regina and use the name of another student, however!<br>
This kind of impersonation will result in a permanent ban from the server.)</p>
</section>
<section id="decide-about-privacy-and-notifications" class="level3">
<h3 class="anchored" data-anchor-id="decide-about-privacy-and-notifications">Decide about privacy and notifications</h3>
<p>The default settings on the channel are probably just fine for you.<br>
Feel free to make any changes that work for you, though.</p>
<p>You can change your message notifications:</p>
<p><img src="images/notifications.gif" class="img-fluid"></p>
<p>You can edit your privacy settings, although most things are already private:</p>
<p><img src="images/privacy.gif" class="img-fluid"></p>
</section>
<section id="connect-other-apps" class="level3">
<h3 class="anchored" data-anchor-id="connect-other-apps">Connect other apps</h3>
<p>You can connect other apps to Discord, either for productivity or just for fun.</p>
<p><img src="images/connect_spotify.gif" class="img-fluid"></p>
<hr>
</section>
</section>
<section id="using-the-channels" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="using-the-channels"><span class="header-section-number">1.3</span> Using the Channels</h2>
<p>The server is made up of many channels. Some are text chatrooms, while some are “Voice Channels” that connect you via audio to everyone else in the channel.</p>
<section id="text-channels" class="level3">
<h3 class="anchored" data-anchor-id="text-channels">Text Channels</h3>
<p>Use the <code>#general</code> channel for anything and everything:</p>
<p><img src="images/saying_hi.gif" class="img-fluid"></p>
<p>If your question is about course logistics, rather than the material itself, consider using the <code>#class-logistics</code> channel:</p>
<p><img src="images/logistics.gif" class="img-fluid"></p>
<p>You can use the specific weekly channels to ask questions about the material…</p>
<p><img src="images/github.gif" class="img-fluid"></p>
<p>… or the specific lab assignment.</p>
<p><img src="images/code_in_chat.gif" class="img-fluid"></p>
<p>Notice that you can use tick marks (<code>```</code>), like in Quarto, to make your code appear in a formatted code box.</p>
</section>
<section id="voice-channels" class="level3">
<h3 class="anchored" data-anchor-id="voice-channels">Voice Channels</h3>
<p>To join a voice channel, simply click it! Make sure you are careful about when you are muted or unmuted.</p>
<p><img src="images/voice_channel.gif" class="img-fluid"></p>
<p>The extra “Side Chat” channels are limited to 4 or 8 people, if you would like to start an impromptu study conversation without being heard by me and / or the rest of the class. (I’ll only drop in if you invite us!)</p>
<p>Voice channels can also be used for people to “Go Live”, and share their screen with everyone else.</p>
<p><img src="images/going_live.gif" class="img-fluid"></p>
<p>While this will usually be something professors use to demonstrate code, you can go live, too! But you may need to download the desktop version of Discord to do so.</p>
</section>
<section id="private-messages" class="level3">
<h3 class="anchored" data-anchor-id="private-messages">Private messages</h3>
<p>It is also easy to send private messages, to your professor or to each other. These private messages can also easily be used to launch a private video chat and / or screen sharing.</p>
<p><img src="images/private_message.gif" class="img-fluid"></p>
</section>
</section>
<section id="see-you-at-the-party" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="see-you-at-the-party"><span class="header-section-number">1.4</span> See you at the Party!</h2>
<hr>
</section>
</section>
<section id="course-structure" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Course Structure</h1>
<section id="how-your-typical-week-will-look" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="how-your-typical-week-will-look"><span class="header-section-number">2.1</span> How your typical week will look</h2>
<section id="readings-and-videos-every-week" class="level3">
<h3 class="anchored" data-anchor-id="readings-and-videos-every-week">Readings and videos (every week)</h3>
<p>I favor a “flipped classroom,” as it gives you more time to clarify and solidify statistical concepts through hands-on exercises. Each week, you will read the required chapter(s), completing a required reading guide to walk you through the central concepts for each week.</p>
<p><strong>Due Tuesday at noon.</strong></p>
</section>
<section id="concept-quizzes-every-week" class="level3">
<h3 class="anchored" data-anchor-id="concept-quizzes-every-week">Concept quizzes (every week)</h3>
<p>Each week there will be a short (~10 questions) quiz over the reading and videos from the week. These quizzes are intended to ensure that you grasped the key concepts from the week’s readings. The quizzes are not timed, so you can feel free to check your answers with the textbook and / or videos if you so wish. The quizzes are <strong>marked on completion</strong> as complete or incomplete.</p>
<p><strong>Due Tuesday at noon.</strong></p>
</section>
<section id="tutorials-every-week" class="level3">
<h3 class="anchored" data-anchor-id="tutorials-every-week">Tutorials (every week)</h3>
<p>You can think of the tutorials as an “interactive” textbook, as they interweave statistical ideas alongside examples of how to work with data in <code>R</code> and hands-on exercises writing the <code>R</code> code necessary to complete a given task. Each exercise has hints available if you get stuck!</p>
<p>The tutorials are work at your own pace, so you can complete them all at once or slowly throughout the week. The lab assignments will require for you to put the skills you learned in the tutorials to work, so you are required to complete each week’s tutorial <strong>before</strong> Thursday’s lab.</p>
<p>The tutorials are <strong>marked on completion</strong> as complete or incomplete. You will submit a screenshot of the completion page at the end of the tutorial to confirm that you completed the tutorial for the week.</p>
<p><strong>Due Thursday at noon.</strong></p>
</section>
<section id="statistical-critiques-every-2-weeks" class="level3">
<h3 class="anchored" data-anchor-id="statistical-critiques-every-2-weeks">Statistical critiques (every 2-weeks)</h3>
<p>These assignments are case studies in which you will evaluate a data visualization or statistical analysis, determining how well-performed and presented the analysis was and making recommendations for improving or using the analysis. Critiques are due roughly 1-week after they are assigned and should take <strong>1-2 hours</strong>. You will <strong>receive feedback</strong> and a mark of <strong>Success</strong> or <strong>Growing</strong> (elaborated more on later), and you will be able to revise based on that feedback. There will be <strong>two</strong> total critiques.</p>
</section>
<section id="lab-assignments-every-week" class="level3">
<h3 class="anchored" data-anchor-id="lab-assignments-every-week">Lab Assignments (every week)</h3>
<p>Labs will be assigned on Thursday every week, providing the opportunity to explore the course concepts in the context of real data. Lab assignments will require for you to work through the tutorial for the week, thus the tutorials are due before the start of class on Thursday.</p>
<p>You will complete the lab assignments in the same teams you collaborate with in class. You will access the lab assignment through Posit Cloud, which you will be walked through during the first lab. Your group will be expected to submit your completed lab on Canvas. You will need to submit <strong>both</strong> the HTML and Quarto documents.</p>
<p><strong>Due Sundays at midnight.</strong></p>
</section>
<section id="midterm-final-projects" class="level3">
<h3 class="anchored" data-anchor-id="midterm-final-projects">Midterm &amp; Final Projects</h3>
<p>There will be two projects throughout the quarter, where you will be asked to synthesize the statistical concepts you have learned in a formal statistical report. Your critiques will help guide you toward how you do / don’t want your report to look. Each project will be done independently, and requires you to submit a project proposal and draft report before the final deadline. You are encouraged to use the feedback received on these assignments to improve your final report. The final reports will be graded as Excellent, Satisfactory, Progressing, or No Credit based on a rubric that will be shared with the initial assignment.</p>
<hr>
</section>
</section>
<section id="week-1-concept-quiz-course-set-up" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="week-1-concept-quiz-course-set-up"><span class="header-section-number">2.2</span> Week 1 Concept Quiz: Course Set-up</h2>
<p><strong>Question 1:</strong> Where are office hours held?</p>
<ul>
<li>In person</li>
<li>Discord</li>
<li>Zoom by appointment</li>
<li>Canvas</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Look at the office hours section of the course syllabus!</p>
</div>
</div>
<p><strong>Question 2:</strong> What materials and technology are required for this course? Select all that apply!</p>
<ul>
<li>Introduction to Modern Statistics</li>
<li>RStudio Cloud – the application for working in R</li>
<li>Canvas</li>
<li>Discord</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Look at the required materials section of the course syllabus!</p>
</div>
</div>
<p><strong>Question 3:</strong> In this course, Reading Guides are due by ____, Concept Quizzes are due by ____, and Tutorials are due by ____.</p>
<p><strong>Question 4:</strong> If you have a question about the course content, what is the best first step?</p>
<ul>
<li>Post your question on Discord in the appropriate channel</li>
<li>Send Dr.&nbsp;Theobold an email</li>
<li>Go to Dr.&nbsp;Theobold’s office hours on Tuesday</li>
<li>Google it</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Look at the Getting Help section of the course syllabus!</p>
</div>
</div>
<p><strong>Question 6:</strong> You have finished the week’s Concept Quiz, and you want to know if you did it right. You ask your friend, and they say, “Oh, I got <em>Luke Skywalker</em> as my answer.” This is a violation of the Academic Honesty policy, true or false?</p>
<p><strong>Question 7:</strong> You and a friend have been working on Critique 1 together. You finish up and want to go to bed, but they are still a little confused. You email them your file, and say, “Don’t copy this, just look how I did it so you can figure it out.” Have you violated Academic Honesty policies?</p>
<p><strong>Question 8:</strong> You have been working on making a visualization for your Midterm Project for what feels like forever and it seems like you are making little to no progress. You type the prompt into Google and “Wham!” the first result is a Stack Overflow page with a solution. You copy-and-paste the solution from the Stack Overflow page into your Midterm Project and do not reference that you used an outside source. You have violated the Academic Honesty policy, true or false?</p>
<p><strong>Question 9:</strong> Introduce yourself in the “Introductions” channel of the STAT 551 Discord Server and upload your favorite (PG-rated) gif.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>